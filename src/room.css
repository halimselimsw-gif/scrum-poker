/* Poker-styled card buttons */
.cardBtn.poker {
  position: relative;
  /* slightly smaller default card size to avoid overflow */
  --w: 104px;
  --h: 156px;
  width: var(--w);
  height: var(--h);
  padding: 8px;
  border-radius: 10px;
  background:
    linear-gradient(180deg, #fff 0%, #f7f7f7 100%);
  border: 1px solid rgba(0,0,0,0.14);
  box-shadow:
  0 14px 36px rgba(2,6,23,0.18),
  0 6px 18px rgba(2,6,23,0.08),
  inset 0 1px 0 rgba(255,255,255,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 22px;
  font-weight: 800;
  color: #111;
  cursor: pointer;
  transition: transform .18s ease, box-shadow .18s ease, border-color .12s ease;
  user-select: none;
  overflow: hidden;
  margin: 6px; /* a little extra outer spacing */
}

/* variant for active/selected card */
.cardBtn.poker.active {
  transform: translateY(-16px) scale(1.05);
  border-color: #2b7cff;
  box-shadow:
  0 22px 48px rgba(43,124,255,0.18),
  0 10px 28px rgba(2,6,23,0.10),
  inset 0 1px 0 rgba(255,255,255,0.6);
  background: linear-gradient(180deg, #f4fbff 0%, #e8f4ff 100%);
  color: #06326a;
}

/* Subtle turquoise tint for selection cards (not too strong) */
.cardBtn.poker:not(.active) {
  /* light turquoise overlay + original soft card look */
  background:
    linear-gradient(180deg, rgba(34,211,238,0.045) 0%, rgba(34,211,238,0.02) 50%, rgba(255,255,255,0.01) 100%),
    linear-gradient(180deg, #fff 0%, #f7f7f7 100%);
  border-color: rgba(34,211,238,0.10);
  color: #08131a; /* slightly darker text for contrast on the tinted bg */
}

/* subtle playing-card back pattern overlay (keeps front value readable) */
.cardBtn.poker::before {
  content: "";
  position: absolute;
  inset: 8px;
  border-radius: 8px;
  pointer-events: none;
  background:
    radial-gradient(circle at 50% 40%, rgba(255,255,255,0.03), transparent 12%),
    repeating-linear-gradient(45deg, rgba(255,255,255,0.02) 0 6px, rgba(0,0,0,0.01) 6px 12px);
  opacity: 0.08;
}

/* hover/focus */
.cardBtn.poker:hover:not(:disabled) {
  transform: translateY(-6px);
  box-shadow: 0 20px 44px rgba(2,6,23,0.16), 0 8px 22px rgba(2,6,23,0.08);
  border-color: rgba(34,211,238,0.18);
}
.cardBtn.poker:active { transform: translateY(-2px) scale(.995); }

/* disabled look */
.cardBtn.poker:disabled {
  opacity: 0.9;
  cursor: no-drop;
}

/* internal layout (makes the label centered and large) */
.cardBtn.poker .poker-top {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  font-size: 22px;
  line-height: 1;
  z-index: 2; /* above the pattern */
  text-shadow: 0 1px 0 rgba(255,255,255,0.5);
}

/* Responsive grid for selection cards: wrap, gap and center */
.grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1px; /* even tighter gap so cards fit comfortably */
  justify-content: center;
  align-items: center;
  margin: 0; /* ensure no extra collapse */
  align-content: flex-start; /* keep items starting at top so overlap is predictable */
}

/* Make card buttons take a stable responsive width so they don't overlap */
.cardBtn.poker {
  flex: 0 0 calc(var(--w) * 0.9);   /* slightly reduce preferred width to fit more */
  min-width: calc(var(--w) * 0.58);  /* keep a sensible minimum */
  margin: 6px 6px 0 6px; /* reduce bottom margin so cards can slightly overlap vertically */
  box-sizing: border-box;
  transition: transform .18s ease, box-shadow .18s ease;
  z-index: 1;
}

/* Bring hovered/active card above neighbors so it doesn't get visually clipped */
.cardBtn.poker:hover:not(:disabled),
.cardBtn.poker.active {
  z-index: 6;
}

/* Smaller screens: reduce card size and gaps to avoid wrapping collisions */
@media (max-width: 520px) {
  .grid { gap: 10px; }
  /* Prevent wrapping on very small screens: make the grid horizontally scrollable */
  .grid { flex-wrap: nowrap; overflow-x: auto; -webkit-overflow-scrolling: touch; padding-bottom: 6px; }
  .cardBtn.poker { --w:84px; --h:124px; margin:6px; flex: 0 0 auto; }
  .cardBtn.poker .poker-top { font-size:16px; }
}

/* Slight stagger so cards overlap a bit instead of pushing the last card out of container */
.grid .cardBtn.poker:nth-child(odd) { margin-top: -14px; }
.grid .cardBtn.poker:nth-child(even) { margin-top: -10px; }

/* Extra safety: prevent the grid from growing taller than its container and allow slight overlap via negative margins */
.grid { max-height: calc(var(--h) * 2.8); }

/* Remove container width limitation */
.room-container {
  width: 100%;
  margin: 0;
  padding: 0;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .cardBtn.poker {
  --w: 100px;
  --h: 140px;
  font-size: 16px;
  }

  .btn {
    font-size: 0.9em;
    padding: 0.5em 1em;
  }
}

@media (max-width: 480px) {
  .cardBtn.poker {
  --w: 72px;
  --h: 110px;
    font-size: 14px;
  }

  .btn {
    font-size: 0.8em;
    padding: 0.4em 0.8em;
  }
}

/* Styles for SVG-based cards */
.card-svg {
  width: 100%;
  height: auto;
  display: block;
}

/* Colored selection cards (title and subtitle on colored background) */
.cardBtn.poker .card-svg rect {
  rx: 10;
  ry: 10;
}
.cardBtn.poker .card-svg text { dominant-baseline: middle; }
.cardBtn.poker .card-svg .subtitle { font-size: 9px; fill: #fff; opacity: 0.95 }

/* Improve SVG text rendering for card numbers and subtitles */
.cardBtn.poker .card-svg text { paint-order: stroke fill markers; -webkit-font-smoothing: antialiased; }
.cardBtn.poker .card-svg tspan { font-family: Arial, sans-serif; }

/* Subtitle tweaks: larger, italic, centered, clipped inside the SVG rect */
.cardBtn.poker .card-svg text[fontstyle],
.cardBtn.poker .card-svg text[fontStyle],
.cardBtn.poker .card-svg text[font-style] { /* fallback selector support */
  vector-effect: non-scaling-stroke;
}
.cardBtn.poker .card-svg text[fontStyle="italic"],
.cardBtn.poker .card-svg text[fontstyle="italic"],
.cardBtn.poker .card-svg text[font-style="italic"] {
  font-style: italic;
}

/* Ensure tspans use consistent font size and don't push outside the rect; use explicit line-height via dy increments in JSX */
.cardBtn.poker .card-svg tspan { font-size: 12px; line-height: 1.1; }

/* Clip any accidental overflow from SVG text (extra safety) */
.cardBtn.poker .card-svg { overflow: visible; }
.cardBtn.poker { overflow: hidden; }

/* No forced reduction of SVG fonts on small screens to keep card numbers readable */

/* Adjust icon size and centering */
.icon {
  width: 36px;
  height: 36px;
  margin: 0;
}

/* Adjust styles for Pause Cafe in participant cards */
.participant-card .pause-cafe {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-family: Arial, sans-serif;
  text-align: center;
}
.participant-card .pause-title {
  font-size: 16px;
  font-weight: bold;
  margin-bottom: 4px;
}
.participant-card .pause-icon {
  font-size: 24px;
  margin-bottom: 4px;
  width: 36px; /* match previous emoji visual size */
  height: 36px;
  display: inline-block;
  object-fit: contain;
}
.participant-card .pause-subtitle {
  font-size: 10px;
  color: gray;
}

/* Participant card with cartoon-queen avatar */
.participant-card {
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px;
  border-radius:10px;
  background: linear-gradient(180deg,#ffffff,#fbfbfd);
  border:1px solid rgba(0,0,0,0.06);
  min-width:100px;
  margin:6px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.04);
}
.participant-card .avatar {
  width:48px;
  height:48px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:26px;
  transition: transform .15s ease, filter .15s ease, box-shadow .15s ease;
  background: radial-gradient(circle at 30% 20%, #fff6, #0000);
}

/* not voted: muted / gray queen */
.participant-card.not-voted .avatar {
  filter: grayscale(100%) contrast(.9) opacity(.6);
  transform: scale(1);
}

/* voted: colorful queen with glow */
.participant-card.voted .avatar {
  filter: none;
  transform: scale(1.06);
  box-shadow: 0 6px 18px rgba(43,124,255,0.12);
}

/* small info area */
.participant-card .p-info { display:flex; flex-direction:column; min-width:0 }
.participant-card .p-name { font-weight:600; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.participant-card .p-status { color:#666; font-size:16px }
.participant-card .p-vote { font-weight:800; font-size:18px; margin-top:4px }

/* optional tiny pulse when someone just voted (add class dynamically if needed) */
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(43,124,255,0.18) }
  70% { box-shadow: 0 0 0 8px rgba(43,124,255,0) }
  100% { box-shadow: 0 0 0 0 rgba(43,124,255,0) }
}
.participant-card.voted.pulse .avatar { animation: pulse 900ms ease-out }

/* vurgulama: kendi kullanıcı kartı */
.participant.me {
  border: 2px solid var(--accent);
  box-shadow: 0 10px 30px rgba(34,211,238,0.10);
  background: linear-gradient(180deg, rgba(34,211,238,0.03), rgba(255,255,255,0.01));
  transform: translateY(-2px);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
}

/* daha belirgin isim rengi */
.participant.me .p-name {
  color: #ffffff;
  font-weight:800;
}

/* küçük "Siz" rozet */
.me-badge {
  display:inline-block;
  margin-left:8px;
  padding:2px 8px;
  font-size:12px;
  font-weight:700;
  border-radius:999px;
  background:var(--accent);
  color:#00111a;
  vertical-align:middle;
}

/* responsive küçük ekranlarda da göze çarpması için */
@media (max-width:600px) {
  .participant.me { border-width: 1.5px; box-shadow: 0 6px 18px rgba(34,211,238,0.07); }
  .me-badge { padding:2px 6px; font-size:11px }
}

/* avatar */
.participant .avatar {
  width:44px;
  height:44px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
  /* merkezde daha iyi görünmesi için line-height sıfır */
  line-height:0;
}

/* biraz daha büyük avatarlar, 10 kişiye kadar iyi görünür */
.participant .avatar { font-size:28px; width:52px; height:52px; }

/* Card visual (back/front flip) */
.participant-card.poker {
  display:flex;
  align-items:center;
  gap:12px;
  padding:8px;
  border-radius:10px;
  background:transparent;
  border: none;
  min-width:100px;
  margin:6px;
}

/* 3D container for the card */
.card-visual {
  width:88px;
  height:122px;
  perspective: 1200px;
  position: relative;
  flex: 0 0 auto;
  transform-style: preserve-3d;
}
.card-visual .card-side {
  position:absolute;
  inset:0;
  border-radius:8px;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 8px 22px rgba(0,0,0,0.16);
  transform-style: preserve-3d;
  overflow:hidden;
}

/* back design (playing-card-like) */
.card-back {
  /* Use the SVG wrapper first and ensure the whole artwork is visible without cropping */
  background-image: url('/card-back.svg'), url('/card-back.png'), linear-gradient(180deg,#b5162e,#8f1020);
  background-position: center center;
  background-repeat: no-repeat;
  /* contain ensures the full artwork (including white border) is visible exactly */
  background-size: contain;
  background-color: transparent;
  /* remove additional CSS borders/shadows so the image's own border is visible exactly */
  border: none;
  box-shadow: none;
  color: white;
  transform: rotateY(0deg);
}

.kick-btn {
  position: absolute;
  top: -20px;
  right: 6px;
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  background: linear-gradient(180deg, rgba(255,75,75,0.06), rgba(255,75,75,0.02));
  border: 1px solid #ff4b4b;
  background-color: rgb(240 245 247) !important;
/*  box-shadow:
/*    0 0 0 3px rgba(34,211,238,0.20) inset, /* inner turquoise ring */
/*    0 0 0 6px rgba(255,75,75,0.14),        /* outer red ring */
/*    0 10px 30px rgba(255,75,75,0.18);      /* red lift for prominence */
  color: #ff4b4b !important;
  border-radius: 6px;
  transform: none;
  transition: box-shadow .12s ease, transform .08s ease;
}

/* front (face) initially rotated away */
.card-front {
  background: linear-gradient(180deg,#fff,#fafafa);
  border: 1px solid rgba(0,0,0,0.06);
  transform: rotateY(180deg);
}

/* center value shown on front */
.card-value {
  font-size:28px;
  font-weight:900;
  color:#111;
  padding:6px;
  text-align:center;
}

/* Card front design */
.card-front .card-border {
  position: relative;
  width: 100%;
  height: 100%;
  border: 2px solid red;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.card-front .card-value {
  font-size: 36px;
  font-weight: bold;
  color: black;
}

/* flip animation: rotate the whole .card-visual container */
.card-visual {
  transition: transform 420ms cubic-bezier(.2,.9,.3,1);
  transform-style: preserve-3d;
}
.card-visual.flipped {
  transform: rotateY(180deg);
}

/* Make the participant's card front follow the same visuals as the "Choose your card" SVG cards
   in light and dark themes. This ensures consistency between the selection cards and
   the revealed participant card face. */
/* Dark theme: use the same dark gradient and white text as .card-svg in dark mode */
.room-container.dark .card-visual .card-side.card-front,
.room-container.dark .card-visual .card-side.card-front .card-border {
  background: linear-gradient(180deg, #333333 0%, #444444 100%);
}
.room-container.dark .card-visual .card-side.card-front .card-border {
  border-color: red; /* keep same accent as SVG rect stroke */
}
.room-container.dark .card-visual .card-side.card-front .card-value,
.room-container.dark .card-visual .card-side.card-front {
  color: #ffffff;
}

/* Make the Story title input visually slimmer */
.row .input[placeholder*="Story title"] {
  padding: 8px 10px; /* less vertical padding */
  font-size: 14px;
  line-height: 1.1;
  height: auto;
}

/* Light theme: use the same light card look as the Choose-your-card SVG (white card) */
.room-container.light .card-visual .card-side.card-front,
.room-container.light .card-visual .card-side.card-front .card-border {
  background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
}
.room-container.light .card-visual .card-side.card-front .card-border {
  border-color: red;
}
.room-container.light .card-visual .card-side.card-front .card-value,
.room-container.light .card-visual .card-side.card-front {
  color: #111111;
}

/* make sure front sits above back when flipped */
.card-visual .card-side.card-front { z-index: 2; }
.card-visual .card-side.card-back { z-index: 1; }

/* subtle rounded inner pattern to mimic card back detail */
.card-back::after {
  /* disable extra overlay so the card image isn't altered */
  display: none;
}

/* ensure responsive size */
@media (max-width:600px) {
  .card-visual { width:64px; height:92px }
  .card-value { font-size:20px }
}

/* If the current user is also the moderator: stronger red with visible turquoise ring */
.participant-card.poker.moderator.me {
  /* prominent red primary border */
  border: 2px solid #ff4b4b;

  /* turquoise inner ring (inset) + red outer ring + subtle red lift */
  box-shadow:
    0 0 0 3px rgba(34,211,238,0.20) inset, /* inner turquoise ring */
    0 0 0 6px rgba(255,75,75,0.14),        /* outer red ring */
    0 10px 30px rgba(255,75,75,0.18);      /* red lift for prominence */


  /* tiny blended background so both colors read together */
  background: linear-gradient(180deg, rgba(255,75,75,0.02), rgba(34,211,238,0.02));
  transform: translateY(-2px);
  transition: box-shadow .18s ease, transform .12s ease;
}

/* ensure badge/readability contrasts when both roles apply */
.participant-card.poker.moderator.me .me-badge {
  background: #ff4b4b;
  color: #fff;
  box-shadow: 0 2px 6px rgba(112, 2, 2, 0.18);
}

/* fallback styles keep working */
.participant-card.poker.me { /* turquoise-only */
  border: 2px solid #22d3ee;
  box-shadow: 0 10px 30px rgba(34,211,238,0.12);
  box-shadow: 0 0 0 3px rgba(34,211,238,0.20) inset, 
    0 0 0 6px rgba(75, 210, 255, 0.14),        
    0 10px 30px rgba(75, 201, 255, 0.18);
}
.participant-card.poker.moderator { /* red-only */
  border: 2px solid #ff5a5f;
  box-shadow: 0 0 0 3px rgba(255,90,95,0.08) inset, 
    0 0 0 6px rgba(255,90,95,0.08),        
    0 10px 30px rgba(255,90,95,0.08);
}

/* slightly more pronounced gray border for regular participants (not you, not moderator) */
.participant-card.poker:not(.me):not(.moderator) {
  border: 2px solid rgba(139, 141, 144, 0.18); /* gray-ish border */
  box-shadow: 0 6px 14px rgba(16,24,40,0.04);
 /* background: linear-gradient(180deg, #fbfbfc, #f6f7f8);  subtle muted bg */
  transition: box-shadow .12s ease, border-color .12s ease, transform .12s ease;
}
.participant-card.poker:not(.me):not(.moderator):hover {
  box-shadow: 0 10px 22px rgba(16,24,40,0.06);
  transform: translateY(-2px);
}

.participant-card:hover .kick-btn { transform: translateY(0); box-shadow: 0 6px 18px rgba(0,0,0,0.12); }

@media (max-width: 420px) {
  .kick-btn { display: none; }
}

/* Offline participant visual state */
.participant-card.offline {
  border-color: rgba(120,120,120,0.32) !important;
  background: linear-gradient(180deg, rgba(240,240,240,0.02), rgba(240,240,240,0.01));
  box-shadow: none;
  opacity: 0.95;
}
.participant-card.offline .avatar { filter: grayscale(100%) opacity(0.6) contrast(0.9); }
.p-status.offline { color: #888 !important; font-weight: 700; display:flex; align-items:center; }
.offline-badge { display:inline-flex; align-items:center; color:#888; font-size:13px; }
.offline-badge svg { color: #888; margin-right:6px; }

/* Deal animation for selection cards */
@keyframes deal {
  0% {
    transform: translateY(-36px) rotate(var(--start-rot, -6deg)) scale(.92);
    opacity: 0;
  }
  60% {
    transform: translateY(6px) rotate(calc(var(--start-rot, -6deg) * 0.2)) scale(1.03);
    opacity: 1;
  }
  100% {
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 1;
  }
}

/* apply when grid/buttons have .dealt state */
.cardBtn.poker.dealt {
  /* allow per-button stagger via inline animation-delay */
  animation-name: deal;
  animation-duration: 480ms;
  animation-timing-function: cubic-bezier(.2,.9,.3,1);
  animation-fill-mode: both;
  will-change: transform, opacity;
}

/* small polish so hover/active still looks good after deal */
.cardBtn.poker.dealt:hover:not(:disabled) { transform: translateY(-6px) scale(1.02); }
/* Room sayfasını tek ekrana sığacak şekilde responsive yap */
.container {
  display: block;
  height: auto; /* Yüksekliği içeriğe göre ayarla */
  margin-top: 0; /* Sayfayı yukarıda sabit tut */
  overflow-y: auto; /* Taşmayı önle */
}

/* Room bilgisi, host ve status bilgilerini aynı satıra hizala */
.header {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
}

.header .room-info,
.header .status-info {
  display: flex;
  
  align-items: center;
  gap: 16px; /* Aralarındaki boşluk */
}

/* Stabilize the status area so changing the status text (Voting / Revealed)
   doesn't shift surrounding content when Reveal/Reset buttons are clicked. */
.status-info {
  /* Reserve horizontal space so the header doesn't reflow when badge text changes */
  min-width: 260px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.status-info .badge {
  min-width: 92px; /* wide enough for 'Revealed' */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  transition: none; /* avoid width/position transitions */
}

/* Ensure actions area keeps its space when buttons appear/disappear */
.actions { min-width: 100px; display: flex; gap: 10px; align-items: center; }

/* Sayaç sağ üstte konumlandırıldı */
.timer {
  
  font-size: 16px;
  font-weight: bold;
  flex-direction: row;
  color: #ff5a5f;
  display: flex;
  gap: 4px;
}

/* timer variant shown in the theme-switcher (aligns right) */
.theme-timer {
  font-size: 14px;
  font-weight: 700;
  display: flex;
  gap: 6px;
  align-items: center;
  color: var(--accent);
}
.room-container.dark .theme-timer { color: #ff4b4b; }
.room-container.light .theme-timer { color: #ff4b4b; }


/* Status bilgisini sağa fazla boşluklu ekle */
.header .status-info {
  margin-left: auto; /* Sağ tarafa it */
  /*padding-right: 20px; *//* Fazladan boşluk ekle */
}

/* Şaşırma ikonu için stil güncellemesi */
.surprise-icon {
  display: inline-block;
  font-size: 14px;
  color: #fff;
  background: #ff8a00;
  padding: 4px 8px;
  border-radius: 14px;
  line-height: 1;
  box-shadow: 0 6px 16px rgba(0,0,0,0.12);
  z-index: 50;
}

/* Participant card fixed height to prevent vertical shift when icons appear */
.participant-card {
  min-height: 112px; /* matches card visual (92px) + padding */
  box-sizing: border-box;
}

/* p-info column: reserve a small top area for the surprise icon so name doesn't move */
.participant-card .p-info {
  position: relative;
}
.participant-card .p-name {
  display: block;
  padding-top: 2px; /* small spacing from top */
}
.participant-card .surprise-icon {
  position: absolute;
  left: -3px;
  top: -154px; /* align with kick button vertical offset */
  transform: translateY(0);
}

/* speech-bubble tail */
.participant-card .surprise-icon::after {
  content: '';
  position: absolute;
  left: 12px;
  top: 100%;
  width: 0;
  height: 0;
  border-left: 7px solid transparent;
  border-right: 7px solid transparent;
  border-top: 8px solid #fff; /* tail uses bubble background color */
}

/* Dark-theme variant */
[data-theme='dark'] .participant-card .surprise-icon {
  background: #fff8ea;
  color: #071017;
}
[data-theme='dark'] .participant-card .surprise-icon::after {
  border-top-color: #fff8ea;
}

/* Make bubble more cornered / rectangular like the attachment */
.participant-card .surprise-icon {
  background: #ffffff;
  color: #08141a;
  border: 1px solid rgba(2,6,23,0.08);
  padding: 6px 10px;
  border-radius: 6px; /* small radius for slightly cornered look */
  font-size: 20px;
  min-width: 40px;
  text-align: center;
}

/* Tail border (outline) to match bubble border - create using ::before */
.participant-card .surprise-icon::before {
  content: '';
  position: absolute;
  left: 11px;
  top: 100%;
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-top: 8px solid rgba(2,6,23,0.08); /* border color */
  transform: translateY(1px);
}

/* Then the white inner tail (on top) */
.participant-card .surprise-icon::after {
  left: 12px;
  border-left: 7px solid transparent;
  border-right: 7px solid transparent;
  border-top: 7px solid #fff;
  top: calc(100% - 1px);
}

/* Responsive styles for Room info and Leave button row */
.actions {
  display: flex;
  gap: 10px;
}
.room-info, .status-info, .actions {
  margin: 5px;
}

/* Styles for SVG icons in buttons */
.icon {
  width: 36px;
  height: 36px;
  margin: 0;
}

/* Styles for circular buttons */
.btn-circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background-color: #1e1e2f;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  cursor: pointer;
  /* stronger, layered shadow for better depth */
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.22),
              0 2px 6px rgba(0, 0, 0, 0.06) inset;
  transition: transform 0.16s ease, box-shadow 0.22s ease;
}
.btn-circle:hover {
  background-color: #797982;
}

/* Container for button and label */
.button-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 5px;
}

/* Label below the button */
.button-label {
  margin-top: 8px;
  font-size: 14px;
  color: #fff;
  text-align: center;
}

/* Light-mode: button labels should be black for better contrast */
[data-theme="light"] .button-label {
  color: #000;
}

/* Position results to the right of buttons */
.footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.button-group {
  display: flex;
  align-items: center;
}
.results {
  margin-left: 10px;
  flex-grow: 1;
}

/* Reserve vertical/horizontal space for results when hidden for non-moderators.
   The placeholder is invisible but occupies the same layout footprint as the
   real .participant result card to prevent content jump on reveal. */
.results .participant.placeholder {
  min-height: 56px; /* similar to participant card height */
  min-width: 140px;
  display: block;
  visibility: hidden; /* keep out of accessibility tree but still reserve layout */
  pointer-events: none;
}

/* Light Theme */
.room-container.light {
  background-color: #23262d;
  color: #ffffff;
}

/* Dark Theme */
.room-container.dark {
  background-color: #121212;
  color: #ffffff;
}

/* Make the "You have been invited to join room:" line white in dark mode (specific to the invitation card) */
[data-theme="dark"] .card > h2 + p {
  color: #ffffff !important;
}
[data-theme="dark"] .card > h2 + p strong {
  color: #ffffff !important;
}

/* Transition for smooth theme change */
.room-container {
  transition: background-color 0.3s, color 0.3s;
}

/* Utility: disable transitions during instant theme switch to avoid slow fades */
:root.disable-transitions *,
:root.disable-transitions *::before,
:root.disable-transitions *::after {
  transition: none !important;
  animation: none !important;
}

/* Light Theme */
.room-container.light .cardBtn.poker {
  background: linear-gradient(180deg, #ffffff 0%, #f7f7f7 100%);
  color: #000000;
  border-color: rgba(0, 0, 0, 0.14);
  /* darker black shadow for light mode */
  box-shadow: 0 20px 48px rgba(0,0,0,0.36), 0 10px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.6);
}

/* Dark Theme */
.room-container.dark .cardBtn.poker {
  background: linear-gradient(180deg, #333333 0%, #444444 100%);
  color: #ffffff;
  border-color: rgba(255, 255, 255, 0.14);
  /* soft white glow in dark mode to lift cards from the dark surface */
  box-shadow: 0 18px 40px rgba(255,255,255,0.06) inset, 0 14px 36px rgba(255,255,255,0.04), 0 6px 18px rgba(0,0,0,0.32);
}

/* Hover/active theme tweaks */
.room-container.light .cardBtn.poker:hover:not(:disabled) { box-shadow: 0 28px 64px rgba(0,0,0,0.44), 0 12px 36px rgba(0,0,0,0.25); }
.room-container.dark .cardBtn.poker:hover:not(:disabled) { box-shadow: 0 28px 64px rgba(255,255,255,0.06) inset, 0 18px 48px rgba(255,255,255,0.05); }
.room-container.light .cardBtn.poker.active { box-shadow: 0 34px 76px rgba(0,0,0,0.44), 0 16px 44px rgba(0,0,0,0.28); }
.room-container.dark .cardBtn.poker.active { box-shadow: 0 34px 76px rgba(255,255,255,0.08) inset, 0 20px 56px rgba(255,255,255,0.06); }

/* Update other components */
.room-container.light .btn {
  background-color: #ffffff;
  color: #121313;
}

.room-container.dark .btn {
  background-color: #27282c;
  color: #d1c9c9;
}

.room-container.light .header {
  color: #ff4b4b;
}

.room-container.dark .header {
  color: #ffffff;
}

/* Leave and Copy Code Buttons */
.room-container.light .btn.leave {
  background-color: #d3d3d3;
  color: #d4cece;
}

.room-container.dark .btn.leave {
  background-color: #4f4f4f;
  color: #ffffff;
}

.room-container.light .btn.copy {
  background-color: #d3d3d3;
  color: #e1dcdc;
}

.room-container.dark .btn.copy {
  background-color: #4f4f4f;
  color: #ffffff;
}

/* Make Invite, Copy Code, Leave button icons appear white in dark mode
   Uses filter on the <img> tag for external SVGs; if icons are inline SVGs they will follow color rules. */
.room-container.dark .room-info .btn img[src$="invite-icon.svg"],
.room-container.dark .actions .btn img[src$="copy-icon.svg"],
.room-container.dark .actions .btn img[src$="leave-icon.svg"] {
  filter: invert(1) brightness(1.2) saturate(0) contrast(1);
}

/* Make the 'Your name' and 'Room code' inputs (and their placeholders) white in dark mode.
   Covers both contexts: when the Room page uses `.room-container.dark` and when the app uses
   the root attribute `[data-theme="dark"]` (App.jsx inputs live outside .room-container). */
.room-container.dark .input[placeholder*="Your name"],
.room-container.dark .input[placeholder*="Your name"]::placeholder,
.room-container.dark .input[placeholder*="Room code (e.g. ABC123)"],
.room-container.dark .input[placeholder*="Room code (e.g. ABC123)"]::placeholder {
  color: #ffffff !important;
  opacity: 1 !important;
}

[data-theme="dark"] .input[placeholder*="Your name"],
[data-theme="dark"] .input[placeholder*="Your name"]::placeholder,
[data-theme="dark"] .input[placeholder*="Room code (e.g. ABC123)"],
[data-theme="dark"] .input[placeholder*="Room code (e.g. ABC123)"]::placeholder {
  color: #ffffff !important;
  opacity: 1 !important;
}

/* Story title placeholder white in dark mode (Room page) */
.room-container.dark .input[placeholder*="Story title"]::placeholder,
[data-theme="dark"] .input[placeholder*="Story title"]::placeholder {
  color: #ffffff !important;
  opacity: 1 !important;
}

/* In dark mode, make circular action buttons white with a white shadow for emphasis */
.room-container.dark .btn-circle {
  background-color: #d1d1d1 !important;
  color: #00111a !important; /* ensure icon/text stays visible on white bg */
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 8px 20px rgba(255,255,255,0.22),
              inset 0 2px 8px rgba(255,255,255,0.10);
  transition: box-shadow 0.22s ease, transform 0.16s ease;
}
.room-container.dark .btn-circle:hover,
.room-container.dark .btn-circle:focus {
  transform: translateY(-4px);
  box-shadow: 0 18px 40px rgba(255,255,255,0.30)
              inset 0 6px 18px rgba(255,255,255,0.12),
              0 0 0 4px rgba(255,255,255,0.04);
  outline: none;
  background-color: #333131 !important;
}

/* Dark-mode: style the inline SVG cards used in "Choose your card" */
.room-container.dark .card-svg {
  display: block; /* make background apply cleanly */
  background: linear-gradient(180deg, #333333 0%, #444444 100%);
  border-radius: 10px;
}

/* Make results (Average and Rounded) text white in dark mode while keeping light mode as-is */
.room-container.dark .results .participant,
.room-container.dark .results .participant div {
  color: #ffffff !important;
}

/* Let the SVG background show by making the rect transparent in dark mode */
.room-container.dark .card-svg rect {
  fill: transparent !important;
  stroke: red !important;
}

/* Make card text white in dark mode */
.room-container.dark .card-svg text {
  fill: #ffffff !important;
}

/* Theme switcher (sun / moon) */
.theme-switcher { display:flex; align-items:center; justify-content:space-between; gap:10px; padding: 6px 8px; }
.theme-switcher .theme-label { font-size:14px; color:#dddfe3; margin-left:8px; }
.theme-switcher .theme-left { display:flex; align-items:center; gap:8px; }
.theme-switcher .theme-timer { margin-left: auto; font-weight:700; color:var(--accent); }

.switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  width: 72px;
  height: 28px;
  border-radius: 999px;
  background: linear-gradient(180deg, #eef2f7, #e6ecf3);
  box-shadow: 0 4px 10px rgba(2,6,23,0.06);
  cursor: pointer;
  padding: 1px;
}
.switch input { position: absolute; opacity: 0; pointer-events: none; }

.switch .slider {
  display:block;
  position: relative;
  width: 100%;
  height: 100%;
  border-radius: 999px;
}

.switch .icon { display:inline-flex; align-items:center; justify-content:center; width:34px; height:24px; opacity:1; transition: color .18s, transform .28s, opacity .2s; }
.switch .icon.sun { color: #FFD54A; } /* brighter yellow sun */
.switch .icon.moon { color: #0b0b0b; } /* near-black moon */

/* knob */
.switch .slider::after {
  content: "";
  position: absolute;
  top: 1px;
  left: 4px;
  width: 22px;
  height: 22px;
  background: radial-gradient(circle at 30% 30%, #ffffff, #f3f4f6);
  border-radius: 50%;
  transition: transform 280ms cubic-bezier(.2,.9,.3,1), background .18s ease, left .28s ease;
  box-shadow : 0 10px 28px rgba(3, 10, 18, 0.12), inset 0 1px 0 rgba(5, 5, 5, 0.6);
}

/* checked state: move knob to right and swap coloring */
.switch input:checked + .slider::after { transform: translateX(36px); }


/* subtle dark background for checked (dark mode) */
.switch input:checked + .slider { background: linear-gradient(180deg,#2b2f36,#1f2226); }
.switch input:checked + .slider .icon.sun { color: #f59e0b; opacity: 1; transform: scale(.9); }
.switch input:checked + .slider .icon.moon { color: #fff; opacity: 1; transform: scale(1.02); }

/* focus styles for accessibility */
.switch input:focus + .slider::after { box-shadow: 0 0 0 4px rgba(43,124,255,0.12); }

/* reduce motion for users who prefer reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .switch .slider::after { transition: none; }
}

/* Participant card adjustments */
.participant-card {
  position: relative; /* so absolute overlays (kick button) don't affect layout */
  display: flex;
  flex-direction: column; /* Kartı dikey düzenle */
  align-items: center;
  gap: 6px; /* Kart içindeki öğeler arasındaki boşluk */
  padding: 6px; /* Kart içindeki boşluk */
  border-radius: 8px; /* Kart köşelerini yuvarla */
  background: var(--card);
  border: 1px solid rgba(0, 0, 0, 0.1);
  width: 96px; /* Kart genişliğini daha da daralt */
  margin: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: background 0.3s, box-shadow 0.3s;
}

/* Avatar (kartın ortasında) */
.participant-card .avatar {
  width: 36px; /* Avatar boyutunu daha da küçült */
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px; /* Avatar içindeki metin boyutu */
  background: radial-gradient(circle at 30% 20%, #fff6, #0000);
  transition: transform 0.2s, box-shadow 0.2s;
}

/* Kartın üst kısmındaki isim */
.participant-card .p-name {
  font-weight: 600;
  font-size: 13px; /* İsmi daha da küçült */
  text-align: center; /* İsmi ortala */
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 4px; /* Avatar ile isim arasındaki boşluk */
}

/* Kartın alt kısmındaki durum */
.participant-card .p-status {
  color: var(--muted);
  font-size: 13px; /* Durum metnini biraz küçült */
  text-align: center; /* Durumu ortala */
}

/* Responsive ayarlar: küçük ekranlarda kartları daha da daralt */
@media (max-width: 600px) {
  .participant-card {
    width: 84px; /* Kart genişliğini daha da daralt */
    padding: 5px;
  }

  .participant-card .avatar {
    width: 32px;
    height: 32px;
    font-size: 16px;
  }

  .participant-card .p-name {
    font-size: 10px; /* İsmi daha da küçült */
  }

  .participant-card .p-status {
    font-size: 10px; /* Durum metnini daha da küçült */
  }
}

/* Ensure the small "You" badge fits inside the narrow card */
.participant-card .me-badge {
  display: inline-block;
  margin-left: 6px;
  padding: 2px 6px;
  font-size: 11px;
  vertical-align: middle;
}

/* Toast Notification */
.toast-notification {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: #323232;
  color: #fff;
  padding: 10px 20px;
  border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  animation: fadeInOut 3s ease-in-out;
  z-index: 1000;
}

@keyframes fadeInOut {
  0% { opacity: 0; }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}

/* Reveal Button Styles */
.reveal-btn {
  background-color: #a9a5a5; /* Yeşil renk */
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 6px rgba(253, 253, 253, 0.2);
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}

.reveal-btn:hover {
  transform: scale(1.1); /* Hover efekti */
  box-shadow: 0 20px 44px rgba(0,0,0,0.32), 0 6px 18px rgba(0,0,0,0.12) inset,
              0 0 0 4px rgba(34,211,238,0.06);
  transform: translateY(-4px);
  outline: none;
  background-color: #2a2a3f !important;
}

.reveal-btn .icon {
  width: 35px;
  height: 40px;
}

/* Light-mode override: make reveal button use requested background and black text
   Assumption: the given hex '#77787' is invalid; using '#777777' as a close neutral gray. */
[data-theme="light"] .reveal-btn {
  color: var(--bs-btn-disabled-color);
    background-color: var(--bs-btn-disabled-bg);
    border-color: #121313;
}

/* Ensure icon remains visible on the darker bg by removing any light-tinted shadow filters */
.reveal-btn .icon {
  filter: none;
  opacity: 1;
}

/* Soft black shadow for circular action buttons */
.btn-circle {
  /* more pronounced base shadow and smoother transitions */
  box-shadow: 0 8px 20px rgba(0,0,0,0.22), 0 2px 6px rgba(0,0,0,0.06) inset;
  transition: box-shadow 0.22s ease, transform 0.16s ease;
  will-change: transform, box-shadow;
}
.btn-circle:hover,
.btn-circle:focus {
  box-shadow: 0 20px 44px rgba(0,0,0,0.32), 0 6px 18px rgba(0,0,0,0.12) inset,
              0 0 0 4px rgba(34,211,238,0.06);
  transform: translateY(-4px);
  outline: none;
}

/* Invite / Copy Code / Leave button hover styles (theme-aware) */
.room-container .btn,
.room-container .btn-icon,
.room-container .btn-outline-secondary {
  transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, border-color .12s ease;
}

/* shared hover baseline */
.room-container .btn:hover,
.room-container .btn-icon:hover,
.room-container .btn-outline-secondary:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 24px rgba(2,6,23,0.08);
}

/* Light mode: soft lift with pale border and subtle background tint */
:root[data-theme='light'] .room-container .btn:hover,
:root[data-theme='light'] .room-container .btn-icon:hover,
:root[data-theme='light'] .room-container .btn-outline-secondary:hover {
  background: linear-gradient(180deg, rgba(15,23,42,0.02), rgba(15,23,42,0.01));
  border-color: rgba(15,23,42,0.10);
  color: var(--ink);
  box-shadow: 0 10px 26px rgba(2,6,23,0.06), 0 4px 10px rgba(2,6,23,0.04);
}

/* Dark mode: soft glow, cooler tint and lighter border */
[data-theme='dark'] .room-container .btn:hover,
[data-theme='dark'] .room-container .btn-icon:hover,
[data-theme='dark'] .room-container .btn-outline-secondary:hover {
  background: rgba(255,255,255,0.02); /* subtle lightening */
  border-color: rgba(255,255,255,0.06);
  color: var(--ink);
  box-shadow: 0 10px 22px rgba(2,6,23,0.28), 0 4px 12px rgba(34,211,238,0.04);
}

/* Invite icon-specific accent when hovering to emphasize action */
.room-container .btn-icon:hover {
  border-radius: 10px;
}
:root[data-theme='light'] .room-container .btn-icon:hover { outline: none; }
[data-theme='dark'] .room-container .btn-icon:hover { outline: none; }

/* Leave button: emphasize with a warm/red tint on hover for destructive action */
.room-container .btn-outline-secondary:hover.leave-warn,
.room-container .btn-outline-secondary.leave-warn:hover {
  transform: translateY(-3px) scale(1.01);
}
:root[data-theme='light'] .room-container .btn-outline-secondary.leave-warn:hover {
  background: linear-gradient(180deg, rgba(255,75,75,0.06), rgba(255,75,75,0.02));
  border-color: rgba(255,75,75,0.14);
  color: #2d2d2d;
  box-shadow: 0 8px 20px rgba(255,75,75,0.06);
}
[data-theme='dark'] .room-container .btn-outline-secondary.leave-warn:hover {
  background: linear-gradient(180deg, rgba(255,75,75,0.03), rgba(255,75,75,0.01));
  border-color: rgba(255,75,75,0.12);
  color: #676767;
  box-shadow: 0 8px 18px rgba(255,75,75,0.08);
}

/* Accessibility: make hover states visible when focused via keyboard */
.room-container .btn:focus-visible,
.room-container .btn-icon:focus-visible,
.room-container .btn-outline-secondary:focus-visible {
  box-shadow: 0 0 0 4px rgba(34,211,238,0.08);
  transform: translateY(-2px);
  outline: none;
}

/* --- Stacked deck layout for selection cards (aligned, overlapping) --- */
.grid.stacked {
  display: flex;
  /* left-align the stacked deck so cards start from the left */
  justify-content: flex-start;
  align-items: center;
  gap: 0; /* overlapping handled by negative margins */
  padding: 8px 0 18px 0;
  /* keep height stable so container doesn't jump */
  height: var(--h);
  overflow: visible;
  padding-left: 12px; /* small inset from the container left edge */
}

.grid.stacked .cardBtn.poker {
  /* place cards on the same baseline and overlap using negative margin-left */
  margin: 0 0 0 -30px; /* negative left margin to stack horizontally; tuned to card width */
  transition: transform .18s ease, box-shadow .18s ease, margin .18s ease;
  border-radius: 8px;
  box-shadow: 0 8px 20px rgba(2,6,23,0.12);
  z-index: 1;
}

/* first card should be fully visible (no negative overlap to the left) */
.grid.stacked .cardBtn.poker:first-child { margin-left: 12px; }

/* progressively lift/offset cards slightly to create the stacked look on larger viewports */
@media (min-width: 720px) {
  .grid.stacked .cardBtn.poker:nth-child(n) { transform: translateY(0) rotate(0deg); }
  .grid.stacked .cardBtn.poker:nth-child(1) { margin-left: 0; }
  .grid.stacked .cardBtn.poker:nth-child(2) { margin-left: -58px; }
  .grid.stacked .cardBtn.poker:nth-child(3) { margin-left: -56px; }
  .grid.stacked .cardBtn.poker:nth-child(4) { margin-left: -54px; }
  .grid.stacked .cardBtn.poker:nth-child(5) { margin-left: -52px; }
  .grid.stacked .cardBtn.poker:nth-child(6) { margin-left: -50px; }
}

/* Hover / active card behavior: raise above neighbors and create visible gap */
.grid.stacked .cardBtn.poker:hover,
.grid.stacked .cardBtn.poker.active {
  /* lift and slightly pull the active card right so it separates from neighbors */
  transform: translateY(-18px) translateX(10px) scale(1.06);
  z-index: 30 !important;
  box-shadow: 0 26px 48px rgba(2,6,23,0.22);
}

/* Reduce negative overlap for the immediate neighbor when a card is active so a gap appears */
.grid.stacked .cardBtn.poker.active + .cardBtn.poker {
  margin-left: -6px !important; /* much smaller overlap to show a gap */
  transition: margin .18s ease;
}

/* When a card later in the stack is active, ensure the focused one still separates from following cards */
.grid.stacked .cardBtn.poker.active ~ .cardBtn.poker { transform: translateX(0); }

/* Mobile: reduce overlap so touch targets are accessible and horizontally scroll if needed */
@media (max-width: 520px) {
  .grid.stacked { height: calc(var(--h) * 1.05); }
  .grid.stacked .cardBtn.poker { margin-left: -36px; min-width: calc(var(--w) * 0.7); }
  .grid.stacked .cardBtn.poker:first-child { margin-left: 6px; }
  .grid.stacked { overflow-x: auto; -webkit-overflow-scrolling: touch; }
}

/* accessibility: ensure keyboard focus visibly brings card forward */
.grid.stacked .cardBtn.poker:focus { outline: 3px solid rgba(59,130,246,0.18); z-index: 40 }

